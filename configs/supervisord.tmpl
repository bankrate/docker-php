; Sample supervisor config file.

[unix_http_server]
file  = /var/run/supervisord.sock
chmod = 0700
chown = {{getenv "APP_USER" "app"}}:{{getenv "APP_GROUP" "app"}}

[supervisord]
pidfile           = /var/run/supervisord.pid
logfile           = /var/log/supervisor/daemon.log
loglevel          = info
logfile_maxbytes  = 50MB
logfile_backups   = 10

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl = unix:///var/run/supervisord.sock

[program:php-fpm]
command               = /usr/sbin/php-fpm --fpm-config /etc/php-fpm-7.1.conf
autostart             = true
autorestart           = true
priority              = 5
stdout_events_enabled = true
stderr_events_enabled = true

[program:nginx]
command               = /usr/sbin/nginx -c /etc/nginx/nginx.conf
autostart             = true
autorestart           = true
priority              = 10
stdout_events_enabled = true
stderr_events_enabled = true
